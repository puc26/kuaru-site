document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelectorAll('a[href^="#"]'),e=document.querySelector("main"),o=document.getElementById("privacy-policy"),t=document.getElementById("terms"),v=!window.performance.navigation||window.performance.navigation.type===1,w=window.location.hash;if(v)if(w==="#privacy-policy"&&o){e&&(e.style.display="none"),o.style.display="block",t&&(t.style.display="none"),window.scrollTo({top:0,behavior:"smooth"}),window.dispatchEvent(new CustomEvent("privacyPageStateChange",{detail:{isPrivacyPage:!0}}));return}else if(w==="#terms"&&t){e&&(e.style.display="none"),t.style.display="block",o&&(o.style.display="none"),window.scrollTo({top:0,behavior:"smooth"}),window.dispatchEvent(new CustomEvent("privacyPageStateChange",{detail:{isPrivacyPage:!0}}));return}else{e&&(e.style.display="block"),o&&(o.style.display="none"),t&&(t.style.display="none");return}function g(n,p){n&&(n.style.transition="opacity 0.4s ease-out",n.style.opacity="0",setTimeout(()=>{n.style.display="none",n.style.opacity="1",p&&p()},400))}function s(n){n&&(n.style.display="block",n.style.opacity="0",n.style.transition="opacity 0.3s ease-in",setTimeout(()=>{n.style.opacity="1"},10))}function a(n,p){p.forEach(l=>{l&&l.style.display!=="none"&&g(l)}),setTimeout(()=>{s(n)},200)}if(window.switchToPage=a,i.forEach(n=>{n.addEventListener("click",function(p){const l=p.currentTarget.getAttribute("href");if(console.log("Link clicked:",l),console.log("Current URL:",window.location.href),l==="#privacy-policy"&&o){p.preventDefault(),p.stopPropagation(),console.log("Switching to Privacy page"),o&&e&&t&&a(o,[e,t]),window.scrollTo({top:0,behavior:"smooth"}),window.history.pushState({},"","#privacy-policy"),window.dispatchEvent(new CustomEvent("privacyPageStateChange",{detail:{isPrivacyPage:!0}}));return}if(l==="#terms"&&t){p.preventDefault(),p.stopPropagation(),console.log("Switching to Terms page"),t&&e&&o&&a(t,[e,o]),window.scrollTo({top:0,behavior:"smooth"}),window.history.pushState({},"","#terms"),window.dispatchEvent(new CustomEvent("privacyPageStateChange",{detail:{isPrivacyPage:!0}}));return}if(l&&l.startsWith("#")&&l!=="#privacy-policy"&&l!=="#terms"){p.preventDefault();const x=l.substring(1),b=document.getElementById(x);b&&b.scrollIntoView({behavior:"smooth"})}})}),window.addEventListener("popstate",()=>{const n=window.location.hash;n==="#privacy-policy"&&o?(o&&e&&t&&a(o,[e,t]),window.scrollTo({top:0,behavior:"smooth"}),window.dispatchEvent(new CustomEvent("privacyPageStateChange",{detail:{isPrivacyPage:!0}}))):n==="#terms"&&t?(t&&e&&o&&a(t,[e,o]),window.scrollTo({top:0,behavior:"smooth"}),window.dispatchEvent(new CustomEvent("privacyPageStateChange",{detail:{isPrivacyPage:!0}}))):(o&&e&&t&&a(o,[e,t]),window.scrollTo({top:0,behavior:"smooth"}),window.dispatchEvent(new CustomEvent("privacyPageStateChange",{detail:{isPrivacyPage:!1}})))}),!v){const n=window.location.hash;n==="#privacy-policy"&&o?(e&&(e.style.display="none"),o.style.display="block",t&&(t.style.display="none"),window.scrollTo({top:0,behavior:"smooth"}),window.dispatchEvent(new CustomEvent("privacyPageStateChange",{detail:{isPrivacyPage:!0}}))):n==="#terms"&&t&&(e&&(e.style.display="none"),t.style.display="block",o&&(o.style.display="none"),window.scrollTo({top:0,behavior:"smooth"}),window.dispatchEvent(new CustomEvent("privacyPageStateChange",{detail:{isPrivacyPage:!0}})))}});const m=document.querySelector("[data-toggle-nav]"),f=document.querySelector("[data-navbar]"),h=document.getElementById("header"),c=document.getElementById("logo-text"),y=document.getElementById("logo-link"),r=document.getElementById("logo-image"),d=document.getElementById("overlay");let u=!1;function E(i){const e=document.querySelector(i);e&&e.scrollIntoView({behavior:"smooth"})}function L(i,e=!0){e&&window.history.pushState({section:i},"",i),E(i)}function C(i){const e=window.location.hash||"#hero";L(e,!1)}function T(){const i=window.location.hash||"#hero";i!=="#hero"&&setTimeout(()=>{E(i)},100)}window.addEventListener("privacyPageStateChange",i=>{u=i.detail.isPrivacyPage,u?(h&&(h.classList.add("bg-[#4c5c68]"),h.classList.remove("bg-transparent")),c&&(c.classList.remove("text-transparent"),c.classList.add("text-[#f4f4f4]")),r&&(r.classList.remove("opacity-0"),r.classList.add("opacity-100")),y&&(y.classList.remove("pointer-events-none"),y.setAttribute("href","/#hero"))):P()});y&&y.addEventListener("click",i=>{if(u){i.preventDefault();const e=document.querySelector("main"),o=document.getElementById("privacy-policy"),t=document.getElementById("terms");if(window.switchToPage&&e){const v=[];o&&o.style.display!=="none"&&v.push(o),t&&t.style.display!=="none"&&v.push(t),window.switchToPage(e,v),window.scrollTo({top:0,behavior:"smooth"}),window.history.pushState({},"","/"),window.dispatchEvent(new CustomEvent("privacyPageStateChange",{detail:{isPrivacyPage:!1}}))}}else i.preventDefault(),L("#hero")});const k=document.querySelectorAll('a[href^="#"]');k.forEach(i=>{i.addEventListener("click",e=>{const o=i.getAttribute("href"),t=o==="#privacy-policy"||o==="#terms";o&&u&&!t?(e.preventDefault(),window.location.href="/",sessionStorage.setItem("targetSection",o)):o&&!u&&!t&&(e.preventDefault(),L(o));const v=window.matchMedia("(max-width: 1023px)").matches,w=i.closest("[data-navbar]");v&&w&&m&&f&&(m.setAttribute("data-open-nav","false"),f.classList.remove("opacity-100","visible","!h-auto"),f.classList.add("opacity-0","invisible","!h-0"),d&&(d.classList.remove("opacity-100","visible"),d.classList.add("opacity-0","invisible")))})});window.addEventListener("load",()=>{const i=sessionStorage.getItem("targetSection");if(i){const e=document.querySelector(i);e&&e.scrollIntoView({behavior:"smooth"}),sessionStorage.removeItem("targetSection")}else T()});window.addEventListener("popstate",C);function P(){h&&(window.scrollY>50?(h.classList.add("bg-[#4c5c68]"),h.classList.remove("bg-transparent"),c&&(c.classList.remove("text-transparent"),c.classList.add("text-[#f4f4f4]")),r&&(r.classList.remove("opacity-0"),r.classList.add("opacity-100")),y&&y.classList.remove("pointer-events-none")):(h.classList.remove("bg-[#4c5c68]"),h.classList.add("bg-transparent"),c&&(c.classList.remove("text-[#f4f4f4]"),c.classList.add("text-transparent")),r&&(r.classList.remove("opacity-100"),r.classList.add("opacity-0")),y&&y.classList.add("pointer-events-none"),S()))}h&&window.addEventListener("scroll",()=>{u||P()});m&&m.addEventListener("click",()=>{const i=m.getAttribute("data-open-nav")==="true";m.setAttribute("data-open-nav",(!i).toString()),f&&(i?(f.classList.remove("opacity-100","visible","!h-auto"),f.classList.add("opacity-0","invisible","!h-0")):(f.classList.add("opacity-100","visible","!h-auto"),f.classList.remove("opacity-0","invisible","!h-0"))),d&&(i?(d.classList.remove("opacity-100","visible"),d.classList.add("opacity-0","invisible")):(d.classList.add("opacity-100","visible"),d.classList.remove("opacity-0","invisible")))});d&&d.addEventListener("click",()=>{m&&m.setAttribute("data-open-nav","false"),f&&(f.classList.remove("opacity-100","visible","!h-auto"),f.classList.add("opacity-0","invisible","!h-0")),d.classList.remove("opacity-100","visible"),d.classList.add("opacity-0","invisible")});document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelectorAll('[data-navbar] a[href^="#"]');if(!i.length)return;const e=[];if(i.forEach(s=>{const a=s.getAttribute("href");if(a){const n=document.querySelector(a);n&&e.push(n)}}),!e.length)return;let o=null;function t(s){s.classList.add("text-[#8e735b]"),s.classList.remove("text-[#f4f4f4]"),s.style.textShadow="0 0 3px #f4f4f0",s.style.setProperty("-webkit-text-stroke","1px #8e735b"),s.style.setProperty("text-stroke","1px #8e735b")}function v(s){s.classList.remove("text-[#8e735b]"),s.style.textShadow="none",s.style.removeProperty("-webkit-text-stroke"),s.style.removeProperty("text-stroke"),s.classList.contains("text-[#f4f4f4]")||s.classList.add("text-[#f4f4f4]")}function w(s){i.forEach(a=>{a.getAttribute("href")===s?t(a):v(a)}),o=s}const g=new IntersectionObserver(s=>{u||s.forEach(a=>{if(a.isIntersecting){const n=`#${a.target.id}`;w(n)}})},{rootMargin:"-50% 0px -50% 0px",threshold:0});e.forEach(s=>g.observe(s)),window.addEventListener("privacyPageStateChange",s=>{s.detail.isPrivacyPage&&w(null)}),i.forEach(s=>{s.addEventListener("mouseenter",()=>{t(s)}),s.addEventListener("mouseleave",()=>{s.getAttribute("href")!==o&&v(s)})}),window.addEventListener("scroll",()=>{if(u)return;window.innerHeight+window.scrollY>=document.body.offsetHeight-4&&w("#footer")})});function I(){c&&(c.style.textShadow="0 0 3px #f4f4f0",c.style.setProperty("-webkit-text-stroke","0.1px #f4f4f4"),c.style.setProperty("text-stroke","0.1px #f4f4f4"),c.style.transition="text-shadow 0.4s ease"),r&&(r.style.filter="drop-shadow(0 0 1px #f4f4f4)",r.style.transition="filter 0.4s ease")}function S(){c&&(c.style.textShadow="none",c.style.removeProperty("-webkit-text-stroke"),c.style.removeProperty("text-stroke")),r&&(r.style.filter="none")}y&&(y.addEventListener("mouseenter",()=>{I()}),y.addEventListener("mouseleave",()=>{S()}));document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("year");i&&(i.textContent=new Date().getFullYear().toString())});document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("back-to-main"),e=document.getElementById("privacy-policy"),o=document.querySelector("main"),t=document.getElementById("scroll-to-top");i&&e&&o&&i.addEventListener("click",()=>{window.switchToPage?window.switchToPage(o,[e]):(e.style.display="none",o.style.display="block"),window.scrollTo({top:0,behavior:"smooth"}),window.history.pushState({},"","/"),window.dispatchEvent(new CustomEvent("privacyPageStateChange",{detail:{isPrivacyPage:!1}}))}),t&&(window.addEventListener("scroll",()=>{window.scrollY>300?(t.classList.remove("opacity-0","invisible"),t.classList.add("opacity-100","visible")):(t.classList.add("opacity-0","invisible"),t.classList.remove("opacity-100","visible"))}),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))});document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("back-to-main-terms"),e=document.getElementById("terms"),o=document.querySelector("main"),t=document.getElementById("scroll-to-top-terms");i&&e&&o&&i.addEventListener("click",()=>{window.switchToPage?window.switchToPage(o,[e]):(e.style.display="none",o.style.display="block"),window.scrollTo({top:0,behavior:"smooth"}),window.history.pushState({},"","/"),window.dispatchEvent(new CustomEvent("privacyPageStateChange",{detail:{isPrivacyPage:!1}}))}),t&&(window.addEventListener("scroll",()=>{window.scrollY>300?(t.classList.remove("opacity-0","invisible"),t.classList.add("opacity-100","visible")):(t.classList.add("opacity-0","invisible"),t.classList.remove("opacity-100","visible"))}),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))});
